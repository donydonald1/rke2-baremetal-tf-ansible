apiVersion: external-secrets.io/v1
kind: ExternalSecret
metadata:
    name: gitlab-initial-root-password
spec:
    refreshInterval: 1h
    secretStoreRef:
        kind: ClusterSecretStore
        name: vault
    target:
        name: gitlab-initial-root-password
        creationPolicy: Owner
        template:
            metadata:
                labels:
                    cnpg.io/reload: ""
    data:
      - secretKey: password
        remoteRef:
            key: secret/gitlab
            property: gitlab-initial-root-password